# IviDoc - Paperless-NGX Setup
# Generated by Copilot

Intelligentes Dokumenten-Management-System fÃ¼r die Digitalisierung von Papierunterlagen.

## ğŸš€ Schnellstart (5 Minuten)

### 1. Voraussetzungen

**Keine!** Das Setup-Script installiert automatisch:
- Docker CLI
- Docker Compose
- Colima (leichtgewichtige Docker-VM fÃ¼r macOS)

Alles ohne Homebrew, nur offizielle BinÃ¤rdateien.

### 2. System starten

**Schnellster Weg (mit AI):**
```bash
cd /Users/lasarkolja/Code/IviDoc
chmod +x quickstart.sh
./quickstart.sh
```
â†’ Installiert alles automatisch & startet mit AI-Profil

**Oder mit Setup-Script:**
```bash
chmod +x setup.sh

# Standard (ohne AI)
./setup.sh

# Mit AI-Profil
./setup.sh --ai
```

**Oder manuell:**
```bash
mkdir -p consume data media export
docker compose up -d                    # ohne AI
docker compose --profile ai up -d       # mit AI
```

**Hinweis:** Beim ersten Mal werden ~3-5 GB heruntergeladen (Docker-Images).

### 3. Web-Interface Ã¶ffnen

**URL:** http://localhost:8000

**Login:**
- Benutzername: `admin`
- Passwort: `admin`

âš ï¸ **Wichtig:** Passwort sofort Ã¤ndern unter Settings â†’ Users!

## ğŸ“± Smartphone-Scans verarbeiten

### Automatisch (empfohlen)

1. **PDFs vom Smartphone** in den `consume/` Ordner kopieren
2. Paperless erkennt neue Dateien automatisch (alle 10 Sekunden)
3. OCR lÃ¤uft automatisch (mit Tika-UnterstÃ¼tzung fÃ¼r beste QualitÃ¤t)
4. Dokumente erscheinen in der Web-UI

```bash
# Beispiel: PDFs kopieren
cp ~/Downloads/*.pdf ./consume/

# Status prÃ¼fen
docker compose logs -f paperless | grep "Consumer"
```

### Via Cloud-Sync (optional spÃ¤ter)

Richten Sie Ihren `consume/` Ordner mit iCloud Drive, Syncthing oder Ã¤hnlichem ein.

## ğŸ¤– Machine Learning nutzen

### Auto-Tagging Training

1. **Erste 50-100 Dokumente manuell taggen:**
   - In Web-UI Ã¶ffnen
   - Dokumenttyp wÃ¤hlen (Rechnung, Vertrag, etc.)
   - Tags vergeben (Strom, Versicherung, Bank, etc.)
   - Korrespondenten festlegen (Firma/Person)

2. **Automatisches Lernen aktiviert:**
   - Settings â†’ Classifiers
   - "Enable automatic matching" aktivieren
   - Ab ~30-50 Dokumenten pro Typ: Gute Vorhersagen

3. **Verbesserung:**
   - Jede Korrektur trainiert das System
   - Nach 200-300 Dokumenten: >90% Genauigkeit

## ğŸ“ Ordnerstruktur

```
IviDoc/
â”œâ”€â”€ consume/          â† Hierhin PDFs vom Smartphone kopieren
â”œâ”€â”€ data/             â† Paperless Datenbank & Konfiguration
â”œâ”€â”€ media/            â† Verarbeitete Dokumente (archiviert)
â”œâ”€â”€ export/           â† FÃ¼r Backups & Exports
â”œâ”€â”€ quickstart.sh     â† Schnellster Start (mit AI)
â”œâ”€â”€ setup.sh          â† VollstÃ¤ndige Einrichtung
â”œâ”€â”€ ai-setup.sh       â† AI-Profil nachtrÃ¤glich aktivieren
â”œâ”€â”€ backup.sh         â† Backup-Script
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ README.md
â””â”€â”€ CHEATSHEET.md     â† Schnellreferenz fÃ¼r alle Befehle
```

## ğŸ’¾ Backup auf externe Festplatte

### Automatisches Backup-Script erstellen

```bash
# backup.sh erstellen
cat > backup.sh << 'EOF'
#!/bin/bash
# Generated by Copilot
BACKUP_DIR="/Volumes/ExterneFestplatte/IviDoc-Backups"
TIMESTAMP=$(date +%Y%m%d_%H%M%S)

mkdir -p "$BACKUP_DIR"

# Paperless Export (inkl. Dokumente & Datenbank)
docker compose exec -T webserver document_exporter ../export/backup-$TIMESTAMP

# Komplettes Backup
rsync -av --progress ./data ./media ./export "$BACKUP_DIR/backup-$TIMESTAMP/"

echo "âœ“ Backup erstellt: $BACKUP_DIR/backup-$TIMESTAMP"
EOF

chmod +x backup.sh
```

### Backup ausfÃ¼hren

```bash
# Manuell
./backup.sh

# Automatisch tÃ¤glich (via cron oder launchd spÃ¤ter einrichten)
```

## ğŸ”§ Wichtige Befehle

```bash
# Status prÃ¼fen
docker compose ps

# Stoppen
docker compose stop

# Starten (Standard)
docker compose start

# Starten (mit AI)
docker compose --profile ai start

# Neustarten
docker compose restart

# Logs ansehen
docker compose logs -f

# Nur AI-Services stoppen
docker compose stop ollama paperless-ai

# Updates installieren
docker compose pull
docker compose up -d
# Mit AI:
docker compose --profile ai pull
docker compose --profile ai up -d

# Alles zurÃ¼cksetzen (VORSICHT!)
docker compose down -v
```

## ğŸ“Š Workflow fÃ¼r 1000 Dokumente

**Strategie:**

1. **Tag 1-2:** 
   - System aufsetzen âœ“
   - Erste 50 Dokumente scannen & taggen
   - Kategorien definieren

2. **Tag 3-5:** 
   - 200 weitere Dokumente
   - ML beginnt zu lernen
   - Workflow optimieren

3. **Tag 6-10:** 
   - Restliche 750 Dokumente
   - Auto-Tagging korrigieren statt neu taggen
   - Deutlich schneller!

**Zeitplan:** ~30 Sek/Dokument = 8-10 Stunden reine Bearbeitungszeit

## ğŸ¤– AI-Profil (Optional)

### Ohne AI starten (Standard)
```bash
docker compose up -d
```
**Startet:** Paperless, PostgreSQL, Redis, Tika, Gotenberg (5 Container)

### Mit AI-Features starten
```bash
docker compose --profile ai up -d
```
**Startet zusÃ¤tzlich:** Ollama (LLM) + Paperless-AI (7 Container)

### Ollama LLM verwenden

```bash
# Llama 3.2 Modell installieren (2.8 GB)
docker compose exec ollama ollama pull llama3.2

# Oder: Deutsches LeoLM 13B (optimal fÃ¼r deutsche Dokumente)
./install-leolm.sh

# Dokument analysieren
docker compose exec ollama ollama run llama3.2 "Fasse diesen Text zusammen: ..."
docker compose exec ollama ollama run leolm:13b "Extrahiere Rechnungsdaten: ..."

# API-Zugriff fÃ¼r eigene Scripte
curl http://localhost:11434/api/generate -d '{"model":"leolm:13b","prompt":"..."}'
```

### Paperless-AI Features

- Automatische Zusammenfassungen
- KI-basierte Verschlagwortung
- Intelligente Dokumentenanalyse
- Inhaltsextraktion

**Hinweis:** AI-Profil benÃ¶tigt zusÃ¤tzlich ~3-4 GB RAM (Modell-abhÃ¤ngig).

## ğŸ¯ NÃ¤chste Schritte

**Phase 1: Basis-Setup**
- [ ] Docker Desktop installieren
- [ ] `docker compose up -d` ausfÃ¼hren (ohne AI)
- [ ] Web-UI Ã¶ffnen & Passwort Ã¤ndern
- [ ] Erste Test-PDFs in `consume/` kopieren
- [ ] Kategorien & Tags anlegen
- [ ] Erste 50-100 Dokumente manuell klassifizieren
- [ ] Backup-Script testen

**Phase 2: AI aktivieren (optional, nach ~100 Dokumenten)**
- [ ] AI-Setup ausfÃ¼hren: `./ai-setup.sh`
- [ ] Oder manuell: `docker compose --profile ai up -d`
- [ ] Ollama Modell installieren (via Setup-Script)
- [ ] Paperless-AI testen Ã¼ber Web-UI
- [ ] Automatische Verschlagwortung nutzen

**Tipp:** Siehe [CHEATSHEET.md](CHEATSHEET.md) fÃ¼r alle wichtigen Befehle!

## ğŸ†˜ Hilfe

**System lÃ¤uft nicht:**
```bash
docker compose logs paperless | tail -50
docker compose ps  # Alle Container-Stati prÃ¼fen
```

**OCR funktioniert nicht:**
- Deutsche Sprache aktiv? Settings â†’ OCR
- PDF-QualitÃ¤t ausreichend? (min. 200 DPI empfohlen)
- Tika lÃ¤uft? `docker compose logs tika`

**Langsam:**
- Mehr CPU-Cores: `PAPERLESS_TASK_WORKERS` erhÃ¶hen
- M4 sollte ~15-25 Seiten/Minute schaffen (mit Tika/Gotenberg)
- Erste Verarbeitung dauert lÃ¤nger (OCR-Training)

**Zu viel RAM-Verbrauch:**
- AI-Profil nicht aktivieren (Standard-Setup nutzen)
- Oder AI-Services stoppen: `docker compose stop ollama paperless-ai`
- Erwartet ohne AI: ~2-3 GB RAM
- Erwartet mit AI: ~5-7 GB RAM (Modell-abhÃ¤ngig)


**Support:**
- [Paperless-NGX Docs](https://docs.paperless-ngx.com/)
- [GitHub Discussions](https://github.com/paperless-ngx/paperless-ngx/discussions)

## ğŸ” Sicherheit

- âœ“ LÃ¤uft komplett lokal (keine Cloud)
- âœ“ VerschlÃ¼sseltes Backup auf ext. Festplatte mÃ¶glich
- âœ“ Zugriff nur via localhost (kein Internet-Zugang nÃ¶tig)
- Optional: VPN fÃ¼r Remote-Zugriff vom Smartphone

---

**Version:** Paperless-NGX Latest (Februar 2026)  
**Platform:** macOS (M4 ARM64)  
**License:** AGPL-3.0
